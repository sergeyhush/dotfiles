[ -f ~/.localrc ] && source ~/.localrc
[ -f ~/.local_aliases ] && source ~/.local_aliases

export PATH="/usr/local/sbin:$PATH"

# FZF
if (( $+commands[fd] )); then
  export FZF_DEFAULT_COMMAND="fd --type file --follow --hidden --exclude .git . $HOME/work/src"
  export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
  export FZF_ALT_C_COMMAND="fd -t d --hidden --follow --exclude \".git\" . $HOME/work/src"
fi

# Golang
export GOPATH=$HOME/go
export GOBIN=$GOPATH/bin
export PATH="$GOBIN:$PATH"

# tfenv
export TFENV_ARCH=amd64

# oh-my-zsh
export ZSH="$HOME/.oh-my-zsh"
ZSH_TMUX_AUTOSTART=true

plugins=(
    alias-tips
    dotenv
    fzf
    golang
    iterm2
    pyenv
    terraform
    tmux
    vi-mode
    z
    zoxide
    zsh-autosuggestions
    zsh-syntax-highlighting
)
source "${ZSH}/oh-my-zsh.sh"


fpath=(~/.zsh/functions $fpath)
autoload -Uz $fpath[1]/*(.:t)


config_files=(~/.zsh/aliases/*.zsh(N))
for file in ${config_files}
do
    source $file
done
unset config_files

setopt inc_append_history

HISTSIZE=99999
HISTFILESIZE=99999
SAVEHIST=$HISTSIZE

eval "$(starship init zsh)"
